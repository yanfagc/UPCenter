<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="org.hanzhdy.manager.settings.mapper.FormDataMapperExt">
    <!-- 根据业务数据查询它的扩展属性（datatype与recordid） -->
    <select id="selectFormDataByRecord" parameterType="java.util.HashMap" resultType="org.hanzhdy.manager.settings.vo.FormDataVo">
SELECT
	d.ID AS id,
	d.FIELDID AS fieldid,
	d.`VALUE` AS value,
	d.DATATYPE AS datatype,
	d.RECORDID AS recordid,
	f.FIELDCODE AS fieldcode
FROM
	f_form_data d,
	f_field_info f
WHERE
	d.FIELDID = f.ID
AND d.DATATYPE = #{datatype}
AND d.RECORDID = #{recordid}
    </select>
</mapper>